<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Run 3 • Unblocked Game Zone</title>
    <script src="https://unpkg.com/@ruffle-rs/ruffle"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacC, "Segoe UI", Roboto, sans-serif;
            background: #0d0d0d;
            color: #e0e0e0;
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* Top Bar */
        .top-bar {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            height: 64px;
            background: rgba(15, 15, 15, 0.92);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border-bottom: 1px solid #222;
            z-index: 1000;
            display: flex;
            align-items: center;
            padding: 0 20px;
            justify-content: space-between;
        }

        .back-btn {
            display: flex;
            align-items: center;
            gap: 10px;
            color: #00ffaa;
            text-decoration: none;
            font-weight: 600;
            padding: 8px 16px;
            border-radius: 8px;
            transition: all 0.25s;
        }

        .back-btn:hover {
            background: rgba(0, 255, 170, 0.15);
        }

        .back-btn span {
            font-size: 1.4em;
        }

        .controls {
            display: flex;
            gap: 12px;
        }

        .btn {
            background: rgba(0, 255, 170, 0.1);
            color: #00ffaa;
            border: 1px solid rgba(0, 255, 170, 0.3);
            border-radius: 8px;
            padding: 8px 14px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.25s;
        }

        .btn:hover {
            background: rgba(0, 255, 170, 0.25);
            border-color: #00ffaa;
            transform: translateY(-1px);
        }

        .btn:active {
            transform: translateY(0);
        }

        main {
            margin-top: 80px;
            padding: 20px 20px 60px;
            max-width: 1400px;
            margin-left: auto;
            margin-right: auto;
        }

        h1 {
            text-align: center;
            font-size: clamp(2.1rem, 6vw, 3.6rem);
            color: #00ffaa;
            margin: 30px 0 40px;
            text-shadow: 0 0 20px rgba(0, 255, 170, 0.4);
            letter-spacing: -1px;
        }

        .game-area {
            width: 100%;
            max-width: 1280px;
            margin: 0 auto 50px;
            position: relative;
            border-radius: 16px;
            overflow: hidden;
            background: #000;
            border: 2px solid #222;
            box-shadow: 0 20px 60px rgba(0,0,0,0.6);
        }

        #ruffle-container {
            width: 100%;
            aspect-ratio: 4 / 3;
            max-height: 82vh;
            margin: 0 auto;
        }

        /* Description */
        .game-info-card {
            background: #181818;
            border-radius: 16px;
            padding: 32px;
            border: 1px solid #333;
            max-width: 1100px;
            margin: 0 auto 60px;
            line-height: 1.6;
        }

        .game-info-card h2 {
            color: #00ffaa;
            margin-bottom: 1.2rem;
            font-size: 1.8rem;
        }

        .meta {
            color: #888;
            font-size: 0.95rem;
            margin: 1.6rem 0;
            padding: 1rem 0;
            border-top: 1px solid #333;
            border-bottom: 1px solid #333;
        }

        .meta span {
            color: #aaa;
        }

        /* Mobile rotate prompt */
        #rotate-prompt {
            display: none;
            position: fixed;
            inset: 0;
            background: rgba(0,0,0,0.96);
            z-index: 9999;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            color: #00ffaa;
            text-align: center;
            padding: 30px;
        }

        #rotate-prompt img {
            width: 110px;
            margin-bottom: 30px;
            animation: pulseRotate 2.2s infinite;
        }

        @keyframes pulseRotate {
            0%,100% { transform: rotate(0deg) scale(1); }
            50%     { transform: rotate(-90deg) scale(1.12); }
        }

        @media (max-width: 1024px) and (orientation: portrait) {
            #rotate-prompt { display: flex !important; }
            main, .top-bar { display: none; }
        }

        @media (max-width: 640px) {
            .top-bar { height: 56px; padding: 0 12px; }
            .game-info-card { padding: 24px; }
        }
    </style>
</head>
<body>

<div id="rotate-prompt">
    <img src="https://i.ibb.co/3mV7j7Q/rotate-phone.png" alt="Rotate Device">
    <h2>Please rotate your device</h2>
    <p>Landscape mode gives the best experience for playing Run 3!</p>
</div>

<div class="top-bar">
    <a href="https://unblokedgamzone.github.io/" class="back-btn">
        <span>←</span> Back to Home
    </a>

    <div class="controls">
        <button class="btn" id="fullscreenBtn">Fullscreen</button>
    </div>
</div>

<main>
    <h1>Run 3</h1>

    <div class="game-area">
        <div id="ruffle-container"></div>
    </div>

    <div class="game-info-card">
        <h2>About Run 3</h2>
        <p>
            Run 3 is a legendary endless runner set in the depths of space! 
            Navigate through twisting tunnels, leap over massive gaps, 
            switch gravity, and try to survive as long as possible.
            Unlock new characters with unique abilities and discover 
            increasingly difficult levels in this incredibly addictive classic.
        </p>

        <div class="meta">
            <div>Original Creator: <span>Joseph Cloutier (Player 03)</span></div>
            <div>First Released: <span>2014</span></div>
            <div>Current Version on site: <span>Original Flash version (via Ruffle)</span></div>
            <div>Added to Unblocked Game Zone: <span>January 2025</span></div>
        </div>

        <p style="margin-top: 1.5rem;">
            <strong>Controls:</strong> ARROW KEYS or WASD + SPACE / UP to jump<br>
            <strong>Tip:</strong> Press Z to switch gravity direction in certain tunnels!
        </p>

        <p style="margin-top: 2rem; color: #888; font-size: 0.95rem;">
            All games on this site are hosted for educational/nostalgic purposes only.
            Original game © Joseph Cloutier / player03.com
        </p>
    </div>
</main>

<script>
// Ruffle player setup
window.RufflePlayer = window.RufflePlayer || {};
window.RufflePlayer.config = {
    "autoplay": "on",
    "unmuteOverlay": "hidden",
    "warnOnUnsupportedContent": false
};

const ruffle = window.RufflePlayer.newest();
const player = ruffle.createPlayer();
player.style.width = "100%";
player.style.height = "100%";
document.getElementById("ruffle-container").appendChild(player);
player.load("https://unblokedgamzone.github.io/run3.swf");

// Fullscreen toggle
const fullscreenBtn = document.getElementById("fullscreenBtn");
const gameArea = document.querySelector(".game-area");

fullscreenBtn.addEventListener("click", () => {
    if (!document.fullscreenElement) {
        gameArea.requestFullscreen().catch(err => {
            console.log("Fullscreen failed:", err);
        });
        fullscreenBtn.textContent = "Exit Fullscreen";
    } else {
        document.exitFullscreen();
        fullscreenBtn.textContent = "Fullscreen";
    }
});

// Update button text when exiting fullscreen via ESC
document.addEventListener("fullscreenchange", () => {
    if (!document.fullscreenElement) {
        fullscreenBtn.textContent = "Fullscreen";
    }
});
</script>
</body>
</html>
